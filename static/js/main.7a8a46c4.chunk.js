(this["webpackJsonpsolidity-smartcontract-sweepstake-app"]=this["webpackJsonpsolidity-smartcontract-sweepstake-app"]||[]).push([[0],{178:function(e){e.exports=JSON.parse('{"address":"0x96BD6872396a5eF38dd258930976Bb1d592A1F2A","abi":[{"inputs":[],"stateMutability":"nonpayable","type":"constructor","signature":"constructor"},{"inputs":[],"name":"enterSweepstake","outputs":[],"stateMutability":"payable","type":"function","payable":true,"signature":"0x5e105118"},{"inputs":[],"name":"getCurrentEntrants","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function","constant":true,"signature":"0x539ba05a"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function","constant":true,"signature":"0x8da5cb5b"},{"inputs":[],"name":"pickWinner","outputs":[],"stateMutability":"nonpayable","type":"function","signature":"0x5d495aea"}]}')},310:function(e,t,n){},322:function(e,t){},323:function(e,t){},325:function(e,t){},329:function(e,t){},356:function(e,t){},358:function(e,t){},367:function(e,t){},369:function(e,t){},379:function(e,t){},381:function(e,t){},510:function(e,t){},514:function(e,t){},551:function(e,t){},553:function(e,t){},560:function(e,t){},561:function(e,t){},579:function(e,t){},681:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(124),s=n.n(c),i=n(177),u=(n(310),n(18)),o=n(31),l=n(19),j=n.n(l),d=n(84),b=n(35),p=n(290),O=n.n(p);window.ethereum.request({method:"eth_requestAccounts"});var h,f,x,m,g,y,v,k,w,S=new O.a(window.ethereum),C=n(1),E=n(695),A=n(701),T=n(299),F=n(702),M=n(696),z=n(178),B=z.abi,P=z.address,W=new S.eth.Contract(B,P),D=n(700),I=n(706),J=n(697),L=n(6),N=C.default.form(h||(h=Object(o.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]))),_=C.default.div(f||(f=Object(o.a)(["\n  padding: 10px;\n"]))),q=Object(C.default)(A.a)(x||(x=Object(o.a)(["\n  margin-bottom: 10px;\n"]))),Y=function(e){var t=e.onSubmit,n=e.loading,r=e.error,c=e.clearError,s=Object(a.useState)(""),i=Object(b.a)(s,2),u=i[0],o=i[1],l=function(){var e=Object(d.a)(j.a.mark((function e(n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),t&&t(u);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(L.jsxs)(N,{onSubmit:l,children:[Object(L.jsx)(_,{children:Object(L.jsx)(A.a,{children:"Enter amount to enter Sneaky Sweep!"})}),Object(L.jsx)(_,{children:Object(L.jsx)(D.a,{value:u,onChange:function(e){r&&c&&c(),o(e.target.value)},placeholder:"Enter amount..."})}),Object(L.jsx)(_,{children:n?Object(L.jsx)(I.a,{}):Object(L.jsx)(J.a,{primary:!0,label:"Enter Sneaky Sweep!",type:"submit"})}),r&&Object(L.jsx)(q,{color:"red",size:"small",children:r}),Object(L.jsx)(A.a,{size:"xsmall",children:"Note: Transaction may take up to 30 seconds"})]})},G=n(12),V=function(){return Object(L.jsx)("div",{children:"There are currently no players!"})},H=function(e){return e.players.map((function(e,t){return Object(L.jsxs)(Q,{target:"_blank",rel:"noreferrer",href:"https://rinkeby.etherscan.io/address/".concat(e),children:[" ",e]},t)}))},K=C.default.div(m||(m=Object(o.a)(["\n  margin-top: 10px;\n"]))),Q=C.default.a(g||(g=Object(o.a)(["\n    color: ",";\n"])),G.a.theme.global.colors.text.dark),R=C.default.div(y||(y=Object(o.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),U=function(e){var t=e.players;return Object(L.jsxs)(R,{children:[Object(L.jsx)(A.a,{alignSelf:"center",children:"Player Entrants!"}),0===t.length?Object(L.jsx)(V,{}):Object(L.jsx)(K,{children:Object(L.jsx)(H,{players:t})})]})},X=Object(C.default)(A.a)(v||(v=Object(o.a)(["\n  text-align: center;\n"]))),Z=function(){return Object(L.jsx)(T.a,{alignContent:"center",children:Object(L.jsx)(X,{children:"You have entered the contest! You will be notified when it ends!"})})},$=function(e){var t=e.onClick,n=e.loading;return Object(L.jsx)("div",{children:n?Object(L.jsx)(I.a,{}):Object(L.jsx)(J.a,{label:"Pick Winner",onClick:t})})};var ee=C.default.div(k||(k=Object(o.a)(["\n  height: 100%;\n"]))),te=Object(C.default)(A.a)(w||(w=Object(o.a)(["\n  margin-top: 100px;\n"]))),ne=function(){var e=Object(a.useState)(!1),t=Object(b.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)([]),s=Object(b.a)(c,2),i=s[0],u=s[1],o=Object(a.useState)(""),l=Object(b.a)(o,2),p=l[0],O=l[1],h=Object(a.useState)(!1),f=Object(b.a)(h,2),x=f[0],m=f[1],g=Object(a.useState)(""),y=Object(b.a)(g,2),v=y[0],k=y[1],w=Object(a.useState)(!1),C=Object(b.a)(w,2),z=C[0],B=C[1],P=Object(a.useState)(""),D=Object(b.a)(P,2),I=D[0],J=D[1],N=Object(a.useState)(!1),_=Object(b.a)(N,2),q=_[0],G=_[1],V=Object(a.useState)(""),H=Object(b.a)(V,2),K=H[0],Q=H[1],R=Object(a.useState)(!1),X=Object(b.a)(R,2),ne=X[0],ae=X[1],re=function(){var e=Object(d.a)(j.a.mark((function e(){var t,n,a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.methods.owner().call();case 2:return t=e.sent,e.next=5,W.methods.getCurrentEntrants().call();case 5:return n=e.sent,e.next=8,S.eth.getBalance(W.options.address);case 8:return a=e.sent,e.next=11,S.eth.getAccounts();case 11:c=e.sent,t===c[0]&&G(!0),J(c[0]),B(n.includes(c[0])),Q(t),u(n),O(a),r(!0);case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){re()}),[]),Object(a.useEffect)((function(){x&&ne||re()}),[x,ne]);var ce=function(){var e=Object(d.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return k("Value can not be empty!"),e.abrupt("return");case 3:return m(!0),e.prev=4,e.next=7,S.eth.getAccounts();case 7:return n=e.sent,e.next=10,W.methods.enterSweepstake().send({from:n[0],value:S.utils.toWei(t,"ether")});case 10:m(!1),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(4),console.log("hmm: ",e.t0),m(!1),k("There was an error submitting :(");case 18:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ae(!0),e.next=3,W.methods.pickWinner().send({from:K});case 3:ae(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return n?Object(L.jsxs)(ee,{children:[Object(L.jsx)(E.a,{background:"light-4",pad:"small",children:Object(L.jsxs)(A.a,{size:"small",children:["Connected Account: ",I]})}),Object(L.jsxs)(T.a,{align:"center",children:[Object(L.jsx)(F.a,{children:"Sneaky Sweeps"}),Object(L.jsxs)(F.a,{level:"3",children:["Current Prize: ",S.utils.fromWei(p,"ether")," Ether"]})]}),Object(L.jsxs)(T.a,{align:"center",pad:"large",children:[Object(L.jsx)(T.a,{gap:"medium",width:"medium",children:Object(L.jsx)(M.a,{pad:"medium",background:"dark-1",gap:"medium",children:z?Object(L.jsx)(Z,{}):Object(L.jsx)(Y,{onSubmit:ce,loading:x,error:v,clearError:function(){return k("")}})})}),Object(L.jsx)(T.a,{align:"center",pad:"medium",children:Object(L.jsx)(M.a,{pad:"medium",background:"dark-1",gap:"medium",children:Object(L.jsx)(U,{players:i})})}),q&&i.length>0&&Object(L.jsx)($,{loading:ne,onClick:se}),Object(L.jsxs)(te,{children:["Sneaky Sweep Owner:",Object(L.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://rinkeby.etherscan.io/address/".concat(K),children:K})]})]})]}):Object(L.jsxs)(ee,{children:[Object(L.jsx)(E.a,{background:"light-4",pad:"small",children:Object(L.jsxs)(A.a,{size:"small",children:["Connected Account: ",I]})}),Object(L.jsx)(T.a,{align:"center",height:"large",pad:"large",children:"LOADING"})]})},ae=function(){return Object(L.jsxs)(u.d,{children:[Object(L.jsx)(u.b,{path:"/",exact:!0,children:Object(L.jsx)(ne,{})}),Object(L.jsx)(u.b,{children:Object(L.jsx)(u.a,{to:"/"})})]})},re=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,707)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))},ce=n(698),se=n(298);s.a.render(Object(L.jsx)(r.a.StrictMode,{children:Object(L.jsx)(ce.a,{theme:se.grommet,children:Object(L.jsx)(i.a,{children:Object(L.jsx)(ae,{})})})}),document.getElementById("root")),re()}},[[681,1,2]]]);
//# sourceMappingURL=main.7a8a46c4.chunk.js.map